{
    "$version": "2.0",
    "meta":
    {
        "specification":
        {
            "id": "ABAPCSN",
            "version": "1.0.0"
        }
    },
    "definitions":
    {
        "CartService":
        {
            "@ObjectModel.leadingEntity":
            {
                "name": "projectionview.CartProjection"
            },
            "@businessservice": true,
            "@protocol": "odata-v4",
            "kind": "service"
        },
        "CartService.CartProjection":
        {
            "kind": "entity",
            "projection":
            {
                "from":
                {
                    "ref": ["projectionview.CartProjection"]
                }
            }
        },
        "CartService.ItemProjection":
        {
            "kind": "entity",
            "projection":
            {
                "from":
                {
                    "ref": ["projectionview.ItemProjection"]
                }
            }
        },
        "businessobject":
        {
            "@businessobjects": true,
            "kind": "context"
        },
        "businessobject.Cart":
        {
            "kind": "entity",
            "elements":
            {
                "Currency":
                {
                    "type": "abap.cuky",
                    "@Consumption.valueHelpDefinition":
                    [
                        {
                            "entity":
                            {
                                "element": "Currency",
                                "name": "I_CurrencyStdVH"
                            }
                        }
                    ],
                    "@EndUserText.label": "Currency"
                },
                "Notes":
                {
                    "type": "abap.char",
                    "length": 100,
                    "@EndUserText.label": "Notes"
                },
                "OrderID":
                {
                    "type": "abap.numc",
                    "length": 8,
                    "@EndUserText.label": "OrderID"
                },
                "OrderUuid":
                {
                    "type": "abap.raw",
                    "key": true,
                    "length": 16,
                    "@EndUserText.label": "OrderUuid"
                },
                "RequestedDeliveryDate":
                {
                    "type": "abap.datn",
                    "@EndUserText.label": "RequestedDeliveryDate"
                },
                "TotalPrice":
                {
                    "type": "abap.curr",
                    "precision": 11,
                    "scale": 2,
                    "@EndUserText.label": "TotalPrice",
                    "@Semantics.amount":
                    {
                        "currencyCode": "Currency"
                    }
                },
                "_Item":
                {
                    "type": "cds.Composition",
                    "cardinality":
                    {
                        "max": "*"
                    },
                    "target": "businessobject.Item",
                    "toCompositionChild": true
                }
            },
            "@EndUserText.label": "ShoppingCart",
            "rootEntity": true
        },
        "businessobject.Item":
        {
            "kind": "entity",
            "elements":
            {
                "Currency":
                {
                    "type": "abap.cuky",
                    "@Consumption.valueHelpDefinition":
                    [
                        {
                            "entity":
                            {
                                "element": "Currency",
                                "name": "I_CurrencyStdVH"
                            }
                        }
                    ]
                },
                "ItemID":
                {
                    "type": "abap.numc",
                    "length": 8,
                    "@EndUserText.label": "ItemID"
                },
                "ItemPrice":
                {
                    "type": "abap.curr",
                    "precision": 11,
                    "scale": 2,
                    "@Semantics.amount":
                    {
                        "currencyCode": "Currency"
                    }
                },
                "ItemUnitPrice":
                {
                    "type": "abap.curr",
                    "precision": 11,
                    "scale": 2,
                    "@EndUserText.label": "ItemUnitPrice",
                    "@Semantics.amount":
                    {
                        "currencyCode": "Currency"
                    }
                },
                "ItemUuid":
                {
                    "type": "abap.raw",
                    "key": true,
                    "length": 16,
                    "@EndUserText.label": "ItemUuid"
                },
                "OrderedItem":
                {
                    "type": "abap.char",
                    "length": 40,
                    "@EndUserText.label": "OrderedItem"
                },
                "ParentUuid":
                {
                    "type": "abap.raw",
                    "length": 16,
                    "@EndUserText.label": "ParentUuid"
                },
                "Quantity":
                {
                    "type": "abap.numc",
                    "length": 4,
                    "@EndUserText.label": "Quantity"
                },
                "_Parent":
                {
                    "type": "cds.Association",
                    "target": "businessobject.Cart",
                    "on":
                    [
                        {
                            "ref": ["_Parent", "OrderUuid"]
                        },
                        "=",
                        {
                            "ref": ["ParentUuid"]
                        }
                    ],
                    "toParent": true
                }
            },
            "@EndUserText.label": "ShoppingCartItem"
        },
        "projectionview":
        {
            "@projectionviews": true,
            "kind": "context"
        },
        "projectionview.CartProjection":
        {
            "kind": "entity",
            "projection":
            {
                "columns":
                [
                    {
                        "ref": ["Currency"]
                    },
                    {
                        "ref": ["Notes"]
                    },
                    {
                        "ref": ["OrderID"]
                    },
                    {
                        "key": true,
                        "ref": ["OrderUuid"]
                    },
                    {
                        "ref": ["RequestedDeliveryDate"]
                    },
                    {
                        "ref": ["TotalPrice"]
                    },
                    {
                        "cast":
                        {
                            "target": "projectionview.ItemProjection",
                            "toCompositionChild": true
                        },
                        "ref": ["_Item"]
                    }
                ],
                "from":
                {
                    "ref": ["businessobject.Cart"]
                }
            },
            "elements":
            {
                "Currency":
                {
                    "type": "abap.cuky",
                    "@EndUserText.label": "Currency"
                },
                "Notes":
                {
                    "type": "abap.char",
                    "length": 100,
                    "@EndUserText.label": "Notes"
                },
                "OrderID":
                {
                    "type": "abap.numc",
                    "length": 8,
                    "@EndUserText.label": "OrderID"
                },
                "OrderUuid":
                {
                    "type": "abap.raw",
                    "key": true,
                    "length": 16,
                    "@EndUserText.label": "OrderUuid"
                },
                "RequestedDeliveryDate":
                {
                    "type": "abap.datn",
                    "@EndUserText.label": "RequestedDeliveryDate"
                },
                "TotalPrice":
                {
                    "type": "abap.curr",
                    "precision": 11,
                    "scale": 2,
                    "@EndUserText.label": "TotalPrice",
                    "@Semantics.amount":
                    {
                        "currencyCode": "Currency"
                    }
                },
                "_Item":
                {
                    "type": "cds.Composition",
                    "cardinality":
                    {
                        "max": "*"
                    },
                    "target": "projectionview.ItemProjection",
                    "toCompositionChild": true
                }
            },
            "rootEntity": true,
            "providerContract": "transactionalQuery"
        },
        "projectionview.ItemProjection":
        {
            "kind": "entity",
            "projection":
            {
                "columns":
                [
                    {
                        "key": true,
                        "ref": ["ItemUuid"]
                    },
                    {
                        "ref": ["Currency"]
                    },
                    {
                        "ref": ["ItemID"]
                    },
                    {
                        "ref": ["ItemPrice"]
                    },
                    {
                        "ref": ["ItemUnitPrice"]
                    },
                    {
                        "ref": ["OrderedItem"]
                    },
                    {
                        "ref": ["ParentUuid"]
                    },
                    {
                        "ref": ["Quantity"]
                    },
                    {
                        "cast":
                        {
                            "target": "projectionview.CartProjection",
                            "toParent": true
                        },
                        "ref": ["_Parent"]
                    }
                ],
                "from":
                {
                    "ref": ["businessobject.Item"]
                }
            },
            "elements":
            {
                "Currency":
                {
                    "type": "abap.cuky",
                    "@Consumption.valueHelpDefinition":
                    [
                        {
                            "entity":
                            {
                                "element": "Currency",
                                "name": "I_CurrencyStdVH"
                            }
                        }
                    ]
                },
                "ItemID":
                {
                    "type": "abap.numc",
                    "length": 8,
                    "@EndUserText.label": "ItemID"
                },
                "ItemPrice":
                {
                    "type": "abap.curr",
                    "precision": 11,
                    "scale": 2,
                    "@Semantics.amount":
                    {
                        "currencyCode": "Currency"
                    }
                },
                "ItemUnitPrice":
                {
                    "type": "abap.curr",
                    "precision": 11,
                    "scale": 2,
                    "@EndUserText.label": "ItemUnitPrice",
                    "@Semantics.amount":
                    {
                        "currencyCode": "Currency"
                    }
                },
                "ItemUuid":
                {
                    "type": "abap.raw",
                    "key": true,
                    "length": 16,
                    "@EndUserText.label": "ItemUuid"
                },
                "OrderedItem":
                {
                    "type": "abap.char",
                    "length": 40,
                    "@EndUserText.label": "OrderedItem"
                },
                "ParentUuid":
                {
                    "type": "abap.raw",
                    "length": 16,
                    "@EndUserText.label": "ParentUuid"
                },
                "Quantity":
                {
                    "type": "abap.numc",
                    "length": 4,
                    "@EndUserText.label": "Quantity"
                },
                "_Parent":
                {
                    "type": "cds.Association",
                    "target": "projectionview.CartProjection",
                    "on":
                    [
                        {
                            "ref": ["_Parent", "OrderUuid"]
                        },
                        "=",
                        {
                            "ref": ["ParentUuid"]
                        }
                    ],
                    "toParent": true
                }
            }
        }
    }
}
